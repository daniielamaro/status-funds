<ion-content [fullscreen]="true">
  <div class="currentPositionArea">
    <div class="row">
      <div class="col s12 principal">{{ getValueFormated(getTotalBalance()) }}</div>
    </div>
    <div class="row">
      <div class="col s12 subtitle">Posição atual</div>
    </div>
  </div>
  <div class="visaoGeralArea">
    <div class="row">
      <div class="col s12 dividendos-title">
        <span>Dividendos</span>
        <ion-icon (click)="loadData(true)" name="sync"></ion-icon>
      </div>
    </div>
    <div class="row progress-area">
      <div class="progress-container">
        <div class="progress-doughnut" [style]="'--percentage: '+ getPercentTotalDividendsReceived() +';'">
          <div class="percentage">
            <span>{{getPercentTotalDividendsReceived()}}</span>
            <span style="font-size: 15px;">Recebido</span>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col s12 dividendos-sector">
        <span>Total</span>
        <span class="value">{{ getValueFormated(getTotalDividends()) }}</span>
      </div>
      <div class="col s12 dividendos-sector">
        <span>Recebido</span>
        <span class="value">{{ getValueFormated(getDividendsReceived()) }}</span>
      </div>
      <div class="col s12 dividendos-sector">
        <span>A receber</span>
        <span class="value">{{ getValueFormated(getDividendsReceivable()) }}</span>
      </div>
    </div>
    <div class="row ativos-header">
      <span>Meus Ativos</span>
      <span class="quantidadeAtivos">{{getAssets().length + ' ativo' + (getAssets().length > 1 ? 's' : '')}}</span>
    </div>

    <div *ngFor="let asset of getAssets()" class="row ativo-card">
      <div class="row">
        <div class="ativo-titulo">
          <div class="truncate-amaro">{{asset.code}}</div>
          <div class="ativo-value">{{ getValueFormated(asset.lastQuotation) }}</div>
        </div>
        <div class="ativo-desc">
          <div style="width: 75%;" class="truncate">{{asset.name}}</div>
          <div style="width: 25%;" class="ativo-value">{{(asset.percentVariation > 0 ? '+' : '') + getPercentVariationFormated(asset)}}</div>
        </div>
      </div>
      <div class="ativo-value-area">
        <div class="ativo-value-desc">
          <div>Cotas</div>
          <div>Saldo atual</div>
        </div>
        <div class="ativo-value-total">
          <div>{{asset.amount}}</div>
          <div>{{ getValueFormated(getBalanceTotal(asset)) }}</div>
        </div>
      </div>
    </div>
    
  </div>
</ion-content>
